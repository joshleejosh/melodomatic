!define M44 44

# @M44

:scale A
.r @M44
!define IMAJOR   	 .i    0 	 	2 3 5 	 	7 8 10
@IMAJOR


# You can't refer to a macro inside another macro.
!define nested .r @M44
:scale B
@nested

# Macro is defined after its use, should error
:scale C
.r @LATEMACRO
!define LATEMACRO 48

:scale D
.r @LATEMACRO


!define leading 7
!define gross do
!define grossm doXXm # this should not get processed, because @gross will go first and clobber it.
:voice V
.p -@leading- 1 3 5
.v $ran@grossm 48 56 64

